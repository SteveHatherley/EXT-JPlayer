Ext.define("Ext.ux.JPlayerSWF",{extend:"Ext.flash.Component",alias:["widget.jplayerswf"],requires:["Ext.flash.Component"],url:"Jplayer.swf",media:{},wmode:"window",flashParams:{allowScriptAccess:"always"},initComponent:function(a){console.log("Inside Ext.ux.JPlayerSWF constructor");console.log("config",a);this.callParent(a)},afterRender:function(){var b=this,a=Ext.apply({},b.flashParams),c=Ext.apply({},b.flashVars);b.callParent();a=Ext.apply({allowScriptAccess:"always",bgcolor:b.backgroundColor,wmode:b.wmode},a);c=Ext.apply({allowedDomain:document.location.hostname},c);new swfobject.embedSWF(b.url,b.getSwfId(),b.swfWidth,b.swfHeight,b.flashVersion,b.expressInstall?b.statics.EXPRESS_INSTALL_URL:undefined,c,a,b.flashAttributes,Ext.bind(b.swfCallback,b))},listeners:{afterRender:function(a){console.log("afterRender t",a);console.log(this);console.log("this.swf",this.swf);console.log(document.getElementById(this.swfId));console.log("swfobject.getObjectById(this.swfId)",swfobject.getObjectById(this.swfId));var b=swfobject.getObjectById(this.swfId)}}},function(){Ext.apply(this.prototype,{})});Ext.define("Ext.ux.jPlayer",{extend:"Ext.Component",alternateClassName:"jPlayer",alias:["widget.jplayer"],requires:["Ext.ux.JPlayerSWF"],timeFormat:{showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""},solution:"html, flash",supplied:"mp3",preload:"metadata",volume:0.8,muted:false,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1000},loop:false,repeat:function(a){if(a.jPlayer.options.loop){}else{}},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:false,idPrefix:"jp",noConflict:"jQuery",emulateHtml:false,errorAlerts:false,warningAlerts:false,media:undefined,formats:[],require:{audio:false,video:false},status:{},constructor:function(b){var a=jPlayer;console.log("inside ExtjPlayer");Ext.apply(this,b);this.initConfig(b);console.log("config->",b);if(!Ext.isArray(this.supplied)){this.supplied=this.supplied.toLowerCase().split(",")}Ext.each(this.supplied,function(c,f){var d=c.replace(/^\s+|\s+$/g,"");if(a.format[d]){var e=false;Ext.each(a.formats,function(g,h){if(d===g){e=true;return false}});if(!e){a.formats.push(d)}}},this);console.log("self.formats after iteration through supplied",a.formats);if(!Ext.isArray(this.solution)){this.solution=this.solution.toLowerCase().split(",")}Ext.each(this.solution,function(d,f){var c=d.replace(/^\s+|\s+$/g,"");if(a.solution[c]){var e=false;Ext.each(a.solutions,function(g,h){if(c===g){e=true;return false}});if(!e){a.solutions.push(c)}}},this);console.log("self.solutions after iteration through supplied",a.solutions);console.log("jPlayer.event",jPlayer.event);console.log("self.formats",a.formats);Ext.each(a.formats,function(d,c){this.require[a.format[d].media]=true},this);console.log("this.require",this.require);if(this.require.video){Ext.apply(this,(Ext.isDefined(b.optionsVideo)?b.optionsVideo:a.optionsVideo))}else{Ext.apply(this,(Ext.isDefined(b.optionsAudio)?b.optionsAudio:a.optionsAudio))}console.log("this.size, this.sizeFull",this.size,this.sizeFull);this.status.nativeVideoControls=a._uaBlocklist(this.nativeVideoControls);this.status.noFullScreen=a._uaBlocklist(this.noFullScreen);this.status.noVolume=a._uaBlocklist(this.noVolume);console.log("this.status",this.status);console.log("Ext.supports",Ext.supports);if(Ext.supports.AudioTag){this.requireFlash=false}console.log("ending this in jPlayer, before callParent ",this);return this.callParent(b)},pause:function(){},convertTime:function(f){var g=new Date(f*1000);var b=g.getUTCHours();var d=g.getUTCMinutes();var e=g.getUTCSeconds();var c=(this.timeFormat.padHour&&b<10)?"0"+b:b;var h=(this.timeFormat.padMin&&d<10)?"0"+d:d;var a=(this.timeFormat.padSec&&e<10)?"0"+e:e;return((this.timeFormat.showHour)?c+this.timeFormat.sepHour:"")+((this.timeFormat.showMin)?h+this.timeFormat.sepMin:"")+((this.timeFormat.showSec)?a+this.timeFormat.sepSec:"")},_limitValue:function(c,b,a){return(c<b)?b:((c>a)?a:c)},statics:{count:0,version:{script:"2.2.0",needFlash:"2.2.0",flash:"unknown"},solutions:[],solution:{html:true,flash:true},formats:[],format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:true,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:true,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:true,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:true,media:"video"}},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},_testCanPlayType:function(b){try{b.canPlayType(this.format.mp3.codec);return true}catch(a){console.log(a);return false}},_uaBlocklist:function(b){var a=navigator.userAgent.toLowerCase(),c=false;console.log(b);Ext.each(b,function(e,d){if(d&&d.test(a)){c=true;return false}});console.log("block ",c);return c},}},function(){Ext.apply(this.prototype,{emulateMethods:"load play pause",emulateStatus:"src readyState networkState currentTime duration paused ended playbackRate",emulateOptions:"muted volume",reservedEvent:"ready flashreset resize repeat error warning"})});